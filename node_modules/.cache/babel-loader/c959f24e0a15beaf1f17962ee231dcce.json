{"ast":null,"code":"var _jsxFileName = \"/Users/apple/Developer/NigerDeltaUnityApp_Admin/src/presentation/screens/dashboard/tabs/manage_app/history/history_detail.js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport { Button, Typography } from \"@mui/material\";\nimport { withRouter } from \"react-router-dom\";\nimport { makeStyles } from \"@mui/styles\";\nimport ArrowBackIosNewIcon from \"@mui/icons-material/ArrowBackIosNew\";\nimport { IconButton } from \"@mui/material\";\nimport CustomDialog from \"../../../../../components/dashboard/dialogs/custom-dialog\";\nimport DeleteDialog from \"../../../../../components/dashboard/dialogs/custom-dialog\";\nimport { useSnackbar } from \"notistack\";\nimport { deleteDoc, deleteObject, ref, db, doc, storage } from \"../../../../../../data/firebase\";\nimport Delete from \"@mui/icons-material/Delete\";\nimport Edit from \"@mui/icons-material/Edit\";\nimport MUIRichTextEditor from \"mui-rte\";\nimport EditHistoryForm from \"../../../../../forms/history/update_history_form\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst useStyles = makeStyles(theme => ({\n  row: {\n    display: \"flex\",\n    flexDirection: \"row\",\n    justifyContent: \"space-between\",\n    alignItems: \"center\"\n  },\n  main: {\n    display: \"flex\",\n    flex: 1,\n    flexDirection: \"column\",\n    margin: \"auto\",\n    minHeight: 256,\n    minWidth: 320,\n    alignItems: \"center\"\n  },\n  cardMedia: {\n    height: 156,\n    width: \"100%\"\n  },\n  subRow: {\n    display: \"flex\",\n    flexDirection: \"row\",\n    justifyContent: \"end\",\n    alignItems: \"center\"\n  },\n  lhsRow: {\n    display: \"flex\",\n    flexDirection: \"row\",\n    justifyContent: \"start\",\n    alignItems: \"center\"\n  },\n  avatar: {\n    height: 48,\n    width: 48\n  },\n  column: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    justifyContent: \"start\",\n    alignItems: \"start\",\n    padding: 4\n  },\n  mb: {\n    marginBottom: 10\n  }\n}));\n\nconst HistoryDetail = props => {\n  _s();\n\n  var _location$state3, _location$state4, _location$state5, _location$state6, _location$state7, _location$state8, _location$state9, _location$state10, _location$state11;\n\n  const {\n    history,\n    location\n  } = props;\n  const classes = useStyles();\n  const [open, setOpen] = React.useState(false);\n  const [openDelete, setOpenDelete] = React.useState(false);\n  const {\n    enqueueSnackbar\n  } = useSnackbar();\n\n  const deleteNews = () => {\n    var _location$state;\n\n    setOpenDelete(false);\n    const fileRef = ref(storage, \"history/\" + (location === null || location === void 0 ? void 0 : (_location$state = location.state) === null || _location$state === void 0 ? void 0 : _location$state.id));\n    deleteObject(fileRef).then(async () => {\n      try {\n        var _location$state2;\n\n        await deleteDoc(doc(db, \"history\", \"\" + (location === null || location === void 0 ? void 0 : (_location$state2 = location.state) === null || _location$state2 === void 0 ? void 0 : _location$state2.id)));\n        enqueueSnackbar(`Item deleted successfully`, {\n          variant: \"success\"\n        });\n      } catch (error) {\n        enqueueSnackbar(`${(error === null || error === void 0 ? void 0 : error.message) || \"Item not deleted. Try again\"}`, {\n          variant: \"error\"\n        });\n      }\n    }).catch(error => {\n      enqueueSnackbar(`${(error === null || error === void 0 ? void 0 : error.message) || \"Item not deleted. Try again\"}`, {\n        variant: \"error\"\n      });\n    });\n  };\n\n  const deleteBody = /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"body2\",\n      gutterBottom: true,\n      children: `Are you sure you want to delete ${location === null || location === void 0 ? void 0 : (_location$state3 = location.state) === null || _location$state3 === void 0 ? void 0 : _location$state3.title} ?`\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.subRow,\n      children: [/*#__PURE__*/_jsxDEV(Button, {\n        size: \"small\",\n        variant: \"contained\",\n        style: {\n          marginRight: 4\n        },\n        onClick: () => setOpenDelete(false),\n        children: \"Cancel\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        size: \"small\",\n        variant: \"contained\",\n        color: \"error\",\n        onClick: deleteNews,\n        children: \"Delete\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 107,\n    columnNumber: 5\n  }, this);\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(CustomDialog, {\n      open: open,\n      title: \"Update History\",\n      handleClose: () => setOpen(false),\n      bodyComponent: /*#__PURE__*/_jsxDEV(EditHistoryForm, {\n        setOpen: setOpen,\n        img: location === null || location === void 0 ? void 0 : (_location$state4 = location.state) === null || _location$state4 === void 0 ? void 0 : _location$state4.image,\n        title: location === null || location === void 0 ? void 0 : (_location$state5 = location.state) === null || _location$state5 === void 0 ? void 0 : _location$state5.title,\n        id: location === null || location === void 0 ? void 0 : (_location$state6 = location.state) === null || _location$state6 === void 0 ? void 0 : _location$state6.id,\n        body: location === null || location === void 0 ? void 0 : (_location$state7 = location.state) === null || _location$state7 === void 0 ? void 0 : _location$state7.body,\n        date: location === null || location === void 0 ? void 0 : (_location$state8 = location.state) === null || _location$state8 === void 0 ? void 0 : _location$state8.date\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(DeleteDialog, {\n      open: openDelete,\n      title: \"Delete History\",\n      handleClose: () => setOpenDelete(false),\n      bodyComponent: deleteBody\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.row,\n      children: [/*#__PURE__*/_jsxDEV(Button, {\n        startIcon: /*#__PURE__*/_jsxDEV(ArrowBackIosNewIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 22\n        }, this),\n        onClick: () => history.goBack(),\n        children: \"Back\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.lhsRow,\n        children: [/*#__PURE__*/_jsxDEV(IconButton, {\n          \"aria-label\": \"delete\",\n          color: \"primary\",\n          onClick: () => setOpen(true),\n          children: /*#__PURE__*/_jsxDEV(Edit, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 171,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(IconButton, {\n          \"aria-label\": \"delete\",\n          color: \"error\",\n          onClick: () => setOpenDelete(true),\n          children: /*#__PURE__*/_jsxDEV(Delete, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 178,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 182,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        src: location === null || location === void 0 ? void 0 : (_location$state9 = location.state) === null || _location$state9 === void 0 ? void 0 : _location$state9.image,\n        alt: \"featured_image\",\n        width: \"100%\",\n        height: 400\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Typography, {\n      fontSize: 21,\n      variant: \"h6\",\n      textAlign: \"center\",\n      fontWeight: \"bold\",\n      children: location === null || location === void 0 ? void 0 : (_location$state10 = location.state) === null || _location$state10 === void 0 ? void 0 : _location$state10.title\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 202,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: classes.lhsRow,\n      children: /*#__PURE__*/_jsxDEV(MUIRichTextEditor, {\n        readOnly: true,\n        defaultValue: location === null || location === void 0 ? void 0 : (_location$state11 = location.state) === null || _location$state11 === void 0 ? void 0 : _location$state11.body,\n        inlineToolbar: false,\n        toolbar: false\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 212,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n\n_s(HistoryDetail, \"DA03wu9yUQo2m9mgb6KE8Je23Js=\", false, function () {\n  return [useStyles, useSnackbar];\n});\n\n_c = HistoryDetail;\nexport default _c2 = withRouter(HistoryDetail);\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"HistoryDetail\");\n$RefreshReg$(_c2, \"%default%\");","map":{"version":3,"sources":["/Users/apple/Developer/NigerDeltaUnityApp_Admin/src/presentation/screens/dashboard/tabs/manage_app/history/history_detail.js"],"names":["React","Button","Typography","withRouter","makeStyles","ArrowBackIosNewIcon","IconButton","CustomDialog","DeleteDialog","useSnackbar","deleteDoc","deleteObject","ref","db","doc","storage","Delete","Edit","MUIRichTextEditor","EditHistoryForm","useStyles","theme","row","display","flexDirection","justifyContent","alignItems","main","flex","margin","minHeight","minWidth","cardMedia","height","width","subRow","lhsRow","avatar","column","padding","mb","marginBottom","HistoryDetail","props","history","location","classes","open","setOpen","useState","openDelete","setOpenDelete","enqueueSnackbar","deleteNews","fileRef","state","id","then","variant","error","message","catch","deleteBody","title","marginRight","image","body","date","goBack"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { Button, Typography } from \"@mui/material\";\nimport { withRouter } from \"react-router-dom\";\nimport { makeStyles } from \"@mui/styles\";\nimport ArrowBackIosNewIcon from \"@mui/icons-material/ArrowBackIosNew\";\nimport { IconButton } from \"@mui/material\";\nimport CustomDialog from \"../../../../../components/dashboard/dialogs/custom-dialog\";\nimport DeleteDialog from \"../../../../../components/dashboard/dialogs/custom-dialog\";\nimport { useSnackbar } from \"notistack\";\nimport {\n  deleteDoc,\n  deleteObject,\n  ref,\n  db,\n  doc,\n  storage,\n} from \"../../../../../../data/firebase\";\nimport Delete from \"@mui/icons-material/Delete\";\nimport Edit from \"@mui/icons-material/Edit\";\nimport MUIRichTextEditor from \"mui-rte\";\nimport EditHistoryForm from \"../../../../../forms/history/update_history_form\";\n\nconst useStyles = makeStyles((theme) => ({\n  row: {\n    display: \"flex\",\n    flexDirection: \"row\",\n    justifyContent: \"space-between\",\n    alignItems: \"center\",\n  },\n  main: {\n    display: \"flex\",\n    flex: 1,\n    flexDirection: \"column\",\n    margin: \"auto\",\n    minHeight: 256,\n    minWidth: 320,\n    alignItems: \"center\",\n  },\n  cardMedia: {\n    height: 156,\n    width: \"100%\",\n  },\n  subRow: {\n    display: \"flex\",\n    flexDirection: \"row\",\n    justifyContent: \"end\",\n    alignItems: \"center\",\n  },\n  lhsRow: {\n    display: \"flex\",\n    flexDirection: \"row\",\n    justifyContent: \"start\",\n    alignItems: \"center\",\n  },\n  avatar: {\n    height: 48,\n    width: 48,\n  },\n  column: {\n    display: \"flex\",\n    flexDirection: \"column\",\n    justifyContent: \"start\",\n    alignItems: \"start\",\n    padding: 4,\n  },\n  mb: {\n    marginBottom: 10,\n  },\n}));\n\nconst HistoryDetail = (props) => {\n  const { history, location } = props;\n  const classes = useStyles();\n\n  const [open, setOpen] = React.useState(false);\n  const [openDelete, setOpenDelete] = React.useState(false);\n  const { enqueueSnackbar } = useSnackbar();\n\n  const deleteNews = () => {\n    setOpenDelete(false);\n    const fileRef = ref(storage, \"history/\" + location?.state?.id);\n\n    deleteObject(fileRef)\n      .then(async () => {\n        try {\n          await deleteDoc(doc(db, \"history\", \"\" + location?.state?.id));\n          enqueueSnackbar(`Item deleted successfully`, {\n            variant: \"success\",\n          });\n        } catch (error) {\n          enqueueSnackbar(\n            `${error?.message || \"Item not deleted. Try again\"}`,\n            {\n              variant: \"error\",\n            }\n          );\n        }\n      })\n      .catch((error) => {\n        enqueueSnackbar(`${error?.message || \"Item not deleted. Try again\"}`, {\n          variant: \"error\",\n        });\n      });\n  };\n\n  const deleteBody = (\n    <div>\n      <Typography variant=\"body2\" gutterBottom>\n        {`Are you sure you want to delete ${location?.state?.title} ?`}\n      </Typography>\n      <br />\n      <div className={classes.subRow}>\n        <Button\n          size=\"small\"\n          variant=\"contained\"\n          style={{ marginRight: 4 }}\n          onClick={() => setOpenDelete(false)}\n        >\n          Cancel\n        </Button>\n\n        <Button\n          size=\"small\"\n          variant=\"contained\"\n          color=\"error\"\n          onClick={deleteNews}\n        >\n          Delete\n        </Button>\n      </div>\n    </div>\n  );\n\n  return (\n    <>\n      <CustomDialog\n        open={open}\n        title=\"Update History\"\n        handleClose={() => setOpen(false)}\n        bodyComponent={\n          <EditHistoryForm\n            setOpen={setOpen}\n            img={location?.state?.image}\n            title={location?.state?.title}\n            id={location?.state?.id}\n            body={location?.state?.body}\n            date={location?.state?.date}\n          />\n        }\n      />\n      <DeleteDialog\n        open={openDelete}\n        title=\"Delete History\"\n        handleClose={() => setOpenDelete(false)}\n        bodyComponent={deleteBody}\n      />\n      <div className={classes.row}>\n        <Button\n          startIcon={<ArrowBackIosNewIcon />}\n          onClick={() => history.goBack()}\n        >\n          Back\n        </Button>\n\n        <div className={classes.lhsRow}>\n          <IconButton\n            aria-label=\"delete\"\n            color=\"primary\"\n            onClick={() => setOpen(true)}\n          >\n            <Edit />\n          </IconButton>\n          <IconButton\n            aria-label=\"delete\"\n            color=\"error\"\n            onClick={() => setOpenDelete(true)}\n          >\n            <Delete />\n          </IconButton>\n        </div>\n      </div>\n      <br />\n      {/* Image Section */}\n      <div>\n        <img\n          src={location?.state?.image}\n          alt=\"featured_image\"\n          width=\"100%\"\n          height={400}\n        />\n      </div>\n      <br />\n\n      <Typography\n        fontSize={21}\n        variant=\"h6\"\n        textAlign=\"center\"\n        fontWeight=\"bold\"\n      >\n        {location?.state?.title}\n      </Typography>\n      <br />\n\n      <div className={classes.lhsRow}>\n        <MUIRichTextEditor\n          readOnly\n          defaultValue={location?.state?.body}\n          inlineToolbar={false}\n          toolbar={false}\n        />\n      </div>\n      <br />\n    </>\n  );\n};\n\nexport default withRouter(HistoryDetail);\n"]},"metadata":{},"sourceType":"module"}